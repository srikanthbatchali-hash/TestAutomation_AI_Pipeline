{
  "jira": {
    "id": "LOAN-123",
    "title": "Add kid loan section to Loan Details",
    "acceptanceCriteria": [
      "When user navigates to Loan Details, they see a new Kid Loan tab",
      "Kid Loan section must accept child name, DOB, guardian consent, and relationship",
      "DOB cannot be in the future; system must reject with error",
      "Saved kid loan details are persisted and visible in subsequent login"
    ]
  },
  "grounding": {
    "canonical_base_steps": [
      "user inputs {value} in {control}",
      "user clicks {control}",
      "user sees text {value}",
      "user validates {page}",
      "user selects {value} in {control}",
      "user checks {control}"
    ],
    "allowed_terms": [
      "KidLoanSection",
      "childName.input",
      "childDob.input",
      "guardianConsent.checkbox",
      "relationship.select",
      "save.button",
      "validation.error",
      "banner"
    ],
    "allowed_verbs": ["click", "input", "check", "select", "validate", "see"]
  },
  "plan": {
    "composites": [
      { "id": "login", "invoke": "user performs \"login\"" },
      {
        "id": "navigateLoanDetails",
        "invoke": "user performs \"navigate to loan details\""
      },
      { "id": "openKidLoanSection", "invoke": "user clicks \"kidLoan.tab\"" },
      {
        "id": "validateKidLoanSection",
        "invoke": "user validates \"KidLoanSection\" page"
      }
    ],
    "last_mile": [
      {
        "id": "fillKidLoan",
        "baseStepMapping": [
          {
            "candidates": [
              {
                "baseStepText": "user inputs {value} in {control}",
                "binding": {
                  "value": "<child_name>",
                  "control": "childName.input"
                }
              },
              {
                "baseStepText": "user inputs {value} in {control}",
                "binding": {
                  "value": "<child_dob>",
                  "control": "childDob.input"
                }
              },
              {
                "baseStepText": "user checks {control}",
                "binding": { "control": "guardianConsent.checkbox" }
              },
              {
                "baseStepText": "user selects {value} in {control}",
                "binding": {
                  "value": "<relationship>",
                  "control": "relationship.select"
                }
              }
            ]
          }
        ]
      },
      {
        "id": "saveKidLoan",
        "baseStepMapping": [
          {
            "candidates": [
              {
                "baseStepText": "user clicks {control}",
                "binding": { "control": "save.button" }
              }
            ]
          }
        ]
      }
    ],
    "validations": [
      {
        "id": "validateSavedKidLoan",
        "candidates": [
          {
            "baseStepText": "user sees text {value}",
            "binding": { "value": "Kid loan saved" }
          }
        ]
      },
      {
        "id": "validateInvalidDOB",
        "candidates": [
          {
            "baseStepText": "user sees text {value}",
            "binding": { "value": "validation.error" }
          }
        ]
      }
    ]
  },
  "manual_tests": {
    "tests": [
      {
        "scenarioName": "Add kid loan with valid DOB",
        "steps": [
          "Login as existing user",
          "Open loan details",
          "Navigate to Kid Loan tab",
          "Enter child name and DOB",
          "Check consent and select relationship",
          "Save the details",
          "Verify saved loan shows up"
        ],
        "examples": [
          {
            "child_name": "Alex Kim",
            "child_dob": "2012-06-01",
            "guardian_consent": true,
            "relationship": "Parent"
          }
        ],
        "traceToAC": [1, 2, 4]
      },
      {
        "scenarioName": "Reject invalid future DOB",
        "steps": [
          "Login as existing user",
          "Open loan details",
          "Navigate to Kid Loan tab",
          "Enter future DOB",
          "Save the details",
          "Verify validation error is shown"
        ],
        "examples": [
          {
            "child_name": "Sam Lee",
            "child_dob": "2030-01-01",
            "guardian_consent": true,
            "relationship": "Guardian"
          }
        ],
        "traceToAC": [3]
      }
    ]
  },
  "authoring_policy": {
    "forbidVerbatimFromDraft": true,
    "minChangesFromDraft": 3,
    "requireGapCoverage": true,
    "requireNegativeCase": true,
    "variants": 2
  },
  "evidence": {
    "hints": {}
  }
}
